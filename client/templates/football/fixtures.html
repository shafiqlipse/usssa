{% extends "main/Base.html" %} {% load static %} {% block content %}
<div class="fixtures-page">
  <h1>fixtures</h1>
  <hr />
  <div class="page-grid">
    <div class="mid-column">
      <!---->
      <div class="fixture-groups">
        {% regroup fixtures by fixture.date.date as fixture_list %}
        <!---->
        {% for date in fixture_list %}
        <h2>Debug: Date Group - {{ date.grouper }}</h2>
        {% if date.list %}
        <h2>{{ date.grouper|date:"D, d M Y" }}</h2>
        <div class="fixture">
          {% for fixture in date.list %}
          <div class="fixture flex">
            <div class="fix-left">
              <span>{{ fixture.team1 }}</span>
              <img src="{{ fixture.team1.school.badge.url }}" alt="" />
            </div>
            <div class="fix-center">
              {% if fixture.date %}
              <a href="{% url 'fixture' fixture.id %}"
                >{{ fixture.date|time:"H:i" }}</a
              >
              {% else %}
              <a href="{% url 'fixture' fixture.id %}">DETAILS</a>
              {% endif %}
            </div>
            <div class="fix-right">
              <img src="{{ fixture.team2.school.badge.url }}" alt="" />
              <span>{{ fixture.team2 }}</span>
            </div>
          </div>
          <hr />
          {% endfor %}
        </div>
        {% else %}
        <p>No fixtures for this date.</p>
        {% endif %} {% endfor %}
      </div>
    </div>
  </div>

  <div class="right-column"></div>

  {% endblock %}
</div>
